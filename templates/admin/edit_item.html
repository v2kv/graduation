{% extends "layout.html" %}

{% block title %}Edit Item{% endblock %}

{% block content %}
<h1>Edit Item</h1>
<form action="{{ url_for('admin.edit_item', item_id=item.item_id) }}" method="POST">
    <div class="form-group">
        <label for="item_name">Item Name:</label>
        <input type="text" class="form-control" id="item_name" name="item_name" value="{{ item.item_name }}" required>
    </div>
    <div class="form-group">
        <label for="item_description">Description:</label>
        <textarea class="form-control" id="item_description" name="item_description" rows="3">{{ item.item_description }}</textarea>
    </div>
    <div class="form-group">
        <label for="item_price">Price:</label>
        <input type="number" class="form-control" id="item_price" name="item_price" step="0.01" value="{{ item.item_price }}" required>
    </div>
    <div class="form-group">
        <label for="category_id">Category:</label>
        <select class="form-control" id="category_id" name="category_id" required>
            {% for category in categories %}
            <option value="{{ category.category_id }}" {% if item.category_id == category.category_id %}selected{% endif %}>{{ category.category_name }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="form-group">
        <label for="tags">Tags:</label>
        <select multiple class="form-control" id="tags" name="tags">
            {% for tag in tags %}
            <option value="{{ tag.tag_id }}" {% if tag.tag_id in item_tags %}selected{% endif %}>{{ tag.tag_name }}</option>
            {% endfor %}
        </select>
    </div>
    <button type="submit" class="btn btn-primary">Update Item</button>
</form>
{% endblock %}