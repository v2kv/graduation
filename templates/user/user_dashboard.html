{% extends "layout.html" %} {% block title %}User Dashboard{% endblock %} {%
block link %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='user_dashboard.css') }}"
/>
{% endblock %} {% block content %}
<div class="container mt-4">
  <h1>Welcome, {{ user.username }}!</h1>
  <hr />

  <h2 class="">My account <i class="fa-solid fa-house"></i></h2>
  <div class="items">
    <div class="row">
      <div class="col">
        <button
          class="load-content"
          data-url="{{ url_for('user.user_profile') }}"
        >
          Profile
        </button>
      </div>
      <div class="col">
        <button
          class="load-content"
          data-url="{{ url_for('user.change_password') }}"
        >
          Password
        </button>
      </div>
      <div class="col">
        <button
          class="load-content"
          data-url="{{ url_for('user.add_address') }}"
        >
          Address
        </button>
      </div>
      <div class="col">
        <button
          class="load-content"
          data-url="{{ url_for('order.view_orders') }}"
        >
          Orders
        </button>
      </div>
      <div class="col">
        <button
          class="load-content"
          data-url="{{ url_for('user.user_messages') }}"
        >
          Messages
        </button>
      </div>
      <div class="col">
        <button
          class="load-content"
          data-url="{{ url_for('user.user_payments') }}"
        >
          Payment
        </button>
      </div>
    </div>
  </div>

  <div class="dynamic-page"></div>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  $(document).ready(function () {
    $(".load-content").click(function () {
      let pageUrl = $(this).data("url"); // Get URL from button's data-url attribute

      $(".dynamic-page").html("<p>Loading...</p>"); // Show loading message

      $(".dynamic-page").load(pageUrl, function (response, status, xhr) {
        if (status === "error") {
          $(".dynamic-page").html("<p>Error loading content.</p>");
        }
      });
    });
  });
</script>

{% endblock %}
